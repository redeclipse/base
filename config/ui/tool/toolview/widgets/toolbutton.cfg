tool_button_props = [
    [ uit_disabled 0 ]
    [ uit_label "" ]
    [ uit_label_size $ui_toolview_small_text_size ]
    [ uit_label_align 0 ]
    [ uit_icon "" ]
    [ uit_icon_size $ui_toolview_base_icon_size ]
    [ uit_icon_align -1 ]
    [ uit_children [] ]
    [ uit_colour $ui_toolview_accent_colour ]
    [ uit_width 0 ]
    [ uit_height 0 ]
    [ uit_tip "" ]
    [ uit_tip_simple "" ]
    [ uit_tip_action "" ]
    [ uit_highlight 0 ]
    [ uit_on_click [] ]
]

// 1:<props>
ui_tool_button = [
    @(tool_props $tool_button_props arg1)

    local colour
    colour = (? $uit_disabled $ui_toolview_dark_colour $uit_colour)

    @(ui_tool_interactable [$uit_width] [$uit_height] [
        uispace $ui_padsmall $ui_padsmaller [
            uiclamp 1 1 1 1

            doargs $uit_children

            uicolourtext $uit_label $colour $uit_label_size
            uialign- $uit_label_align

            if $uit_icon [
                uiimage $uit_icon $colour 0 $uit_icon_size $uit_icon_size
                uialign- $uit_icon_align
            ]
        ]

        ui_tool_tip [
            uit_tip = [@@uit_tip]
            uit_tip_simple = [@@uit_tip_simple]
            uit_tip_action = [@@uit_tip_action]
        ]

        if $uit_disabled [] [
            uirelease [
                uit_on_click
            ]
        ]
    ] [$uit_disabled])
]
