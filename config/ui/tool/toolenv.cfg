ui_tool_env_param_interval = (? (isonline) 250 0)

// 1:<text> 2:<contents>
ui_tool_env_param_group = [
    uitablerow [
        uiclamp 1 1
        uitext $arg1 $ui_toolview_small_text_size
        uialign- -1
        @arg2
    ]
    uifill 0 $ui_toolview_small_elem_space
    uiline $ui_toolview_dark_accent_colour 0 0 [ uiclamp 1 1 ]
    uifill 0 $ui_toolview_small_elem_space
]

ui_tool_env_skybox = [
    result [
        uivlist 0 [
            ui_tool_skyboxselect skybox@@arg1

            ui_tool_numinput skyblend@@arg1 0 1 0.1 [
                uit_label = "Blend"
                uit_label_size = $ui_toolview_tiny_text_size
                uit_interval = $ui_tool_env_param_interval
            ]

            ui_tool_numinput skyoverbright@@arg1 1 16 0.5 [
                uit_label = "Overbright"
                uit_label_size = $ui_toolview_tiny_text_size
                uit_interval = $ui_tool_env_param_interval
            ]

            uifill 0 $ui_toolview_small_elem_space

            ui_tool_numinput spinsky@@arg1 -720 720 0.5 [
                uit_label = "Spin yaw"
                uit_label_size = $ui_toolview_tiny_text_size
                uit_interval = $ui_tool_env_param_interval
            ]

            ui_tool_numinput spinskypitch@@arg1 -720 720 0.5 [
                uit_label = "Spin pitch"
                uit_label_size = $ui_toolview_tiny_text_size
                uit_interval = $ui_tool_env_param_interval
            ]

            ui_tool_numinput spinskyroll@@arg1 -720 720 0.5 [
                uit_label = "Spin roll"
                uit_label_size = $ui_toolview_tiny_text_size
                uit_interval = $ui_tool_env_param_interval
            ]

            uifill 0 $ui_toolview_small_elem_space

            ui_tool_colour tool_env_skybox_colour@@arg1 [
                uit_label_size = $ui_toolview_tiny_text_size
                uit_on_change = [
                    @@@@(tool_colour_toint [skycolour@arg1] [tool_env_skybox_colour@arg1])
                ]
                uit_interval = $ui_tool_env_param_interval
            ]

            uialign* 1
            uialign 1
        ]
    ]
]

ui_tool_env_skybg = [
    result [
        uivlist 0 [
            ui_tool_colour tool_env_skybg_colour@@arg1 [
                uit_label_size = $ui_toolview_tiny_text_size
                uit_on_change = [
                    @@@@(tool_colour_toint [skybgcolour@arg1] [tool_env_skybg_colour@arg1])
                ]
                uit_interval = $ui_tool_env_param_interval
            ]

            uialign* 1
            uialign 1
        ]
    ]
]

ui_tool_env_cloudlayer = [
    result [
        uivlist 0 [
            ui_tool_imageselect cloudlayer@@arg1 $tool_env_clouds [
                uit_tip_simple = "Click to browse cloudlayers"
            ]

            ui_tool_numinput cloudlayerblend@@arg1 0 1 0.1 [
                uit_label = "Blend"
                uit_label_size = $ui_toolview_tiny_text_size
                uit_interval = $ui_tool_env_param_interval
            ]

            ui_tool_numinput cloudfade@@arg1 0 1 0.1 [
                uit_label = "Fade"
                uit_label_size = $ui_toolview_tiny_text_size
                uit_interval = $ui_tool_env_param_interval
            ]

            uifill 0 $ui_toolview_small_elem_space

            ui_tool_numinput cloudheight@@arg1 -1 1 0.1 [
                uit_label = "Height"
                uit_label_size = $ui_toolview_tiny_text_size
                uit_interval = $ui_tool_env_param_interval
            ]

            ui_tool_numinput cloudscale@@arg1 1e-06 64 0.1 [
                uit_label = "Scale"
                uit_label_size = $ui_toolview_tiny_text_size
                uit_interval = $ui_tool_env_param_interval
            ]

            uifill 0 $ui_toolview_small_elem_space

            ui_tool_numinput cloudoffsetx@@arg1 0 1 0.1 [
                uit_label = "Offset X"
                uit_label_size = $ui_toolview_tiny_text_size
                uit_interval = $ui_tool_env_param_interval
            ]

            ui_tool_numinput cloudoffsety@@arg1 0 1 0.1 [
                uit_label = "Offset Y"
                uit_label_size = $ui_toolview_tiny_text_size
                uit_interval = $ui_tool_env_param_interval
            ]

            uifill 0 $ui_toolview_small_elem_space

            ui_tool_numinput cloudscrollx@@arg1 -16 16 0.01 [
                uit_label = "Scroll X"
                uit_label_size = $ui_toolview_tiny_text_size
                uit_interval = $ui_tool_env_param_interval
            ]

            ui_tool_numinput cloudscrolly@@arg1 -16 16 0.01 [
                uit_label = "Scroll Y"
                uit_label_size = $ui_toolview_tiny_text_size
                uit_interval = $ui_tool_env_param_interval
            ]

            uifill 0 $ui_toolview_small_elem_space

            ui_tool_numinput spincloudlayer@@arg1 -720 720 0.5 [
                uit_label = "Spin"
                uit_label_size = $ui_toolview_tiny_text_size
                uit_interval = $ui_tool_env_param_interval
            ]

            uifill 0 $ui_toolview_small_elem_space

            ui_tool_numinput cloudsubdiv@@arg1 4 64 1 [
                uit_label = "Subdivision"
                uit_label_size = $ui_toolview_tiny_text_size
                uit_val_format = i
                uit_interval = $ui_tool_env_param_interval
            ]

            uifill 0 $ui_toolview_small_elem_space

            ui_tool_colour tool_env_cloudlayer_colour@@arg1 [
                uit_label_size = $ui_toolview_tiny_text_size
                uit_on_change = [
                    @@@@(tool_colour_toint [cloudlayercolour@arg1] [tool_env_cloudlayer_colour@arg1])
                ]
                uit_interval = $ui_tool_env_param_interval
            ]

            uialign* 1
            uialign 1
        ]
    ]
]

ui_tool_env_envlayer = [
    result [
        uivlist 0 [
            ui_tool_imageselect envlayer@@arg1 $tool_env_clouds [
                uit_tip_simple = "Click to browse cloudlayers"
            ]

            ui_tool_numinput envlayerblend@@arg1 0 1 0.1 [
                uit_label = "Blend"
                uit_label_size = $ui_toolview_tiny_text_size
                uit_interval = $ui_tool_env_param_interval
            ]

            ui_tool_numinput envfade@@arg1 0 1 0.1 [
                uit_label = "Fade"
                uit_label_size = $ui_toolview_tiny_text_size
                uit_interval = $ui_tool_env_param_interval
            ]

            uifill 0 $ui_toolview_small_elem_space

            ui_tool_numinput envheight@@arg1 -1 1 0.1 [
                uit_label = "Height"
                uit_label_size = $ui_toolview_tiny_text_size
                uit_interval = $ui_tool_env_param_interval
            ]

            ui_tool_numinput envscale@@arg1 1e-06 64 0.1 [
                uit_label = "Scale"
                uit_label_size = $ui_toolview_tiny_text_size
                uit_interval = $ui_tool_env_param_interval
            ]

            uifill 0 $ui_toolview_small_elem_space

            ui_tool_numinput envoffsetx@@arg1 0 1 0.1 [
                uit_label = "Offset X"
                uit_label_size = $ui_toolview_tiny_text_size
                uit_interval = $ui_tool_env_param_interval
            ]

            ui_tool_numinput envoffsety@@arg1 0 1 0.1 [
                uit_label = "Offset Y"
                uit_label_size = $ui_toolview_tiny_text_size
                uit_interval = $ui_tool_env_param_interval
            ]

            uifill 0 $ui_toolview_small_elem_space

            ui_tool_numinput envscrollx@@arg1 -16 16 0.01 [
                uit_label = "Scroll X"
                uit_label_size = $ui_toolview_tiny_text_size
                uit_interval = $ui_tool_env_param_interval
            ]

            ui_tool_numinput envscrolly@@arg1 -16 16 0.01 [
                uit_label = "Scroll Y"
                uit_label_size = $ui_toolview_tiny_text_size
                uit_interval = $ui_tool_env_param_interval
            ]

            uifill 0 $ui_toolview_small_elem_space

            ui_tool_numinput spinenvlayer@@arg1 -720 720 0.5 [
                uit_label = "Spin"
                uit_label_size = $ui_toolview_tiny_text_size
                uit_interval = $ui_tool_env_param_interval
            ]

            uifill 0 $ui_toolview_small_elem_space

            ui_tool_numinput envsubdiv@@arg1 4 64 1 [
                uit_label = "Subdivision"
                uit_label_size = $ui_toolview_tiny_text_size
                uit_val_format = i
                uit_interval = $ui_tool_env_param_interval
            ]

            uifill 0 $ui_toolview_small_elem_space

            ui_tool_colour tool_env_envlayer_colour@@arg1 [
                uit_label_size = $ui_toolview_tiny_text_size
                uit_on_change = [
                    @@@@(tool_colour_toint [envlayercolour@arg1] [tool_env_envlayer_colour@arg1])
                ]
                uit_interval = $ui_tool_env_param_interval
            ]

            uialign* 1
            uialign 1
        ]
    ]
]

ui_tool_env_cloudbox = [
    result [
        uivlist 0 [
            ui_tool_skyboxselect cloudbox@@arg1

            uifill 0 $ui_toolview_small_elem_space

            ui_tool_numinput cloudblend@@arg1 0 1 0.1 [
                uit_label = "Blend"
                uit_label_size = $ui_toolview_tiny_text_size
                uit_interval = $ui_tool_env_param_interval
            ]

            ui_tool_numinput cloudclip@@arg1 0 1 0.1 [
                uit_label = "Clip"
                uit_label_size = $ui_toolview_tiny_text_size
                uit_interval = $ui_tool_env_param_interval
            ]

            uifill 0 $ui_toolview_small_elem_space

            ui_tool_numinput spinclouds@@arg1 -720 720 0.5 [
                uit_label = "Spin yaw"
                uit_label_size = $ui_toolview_tiny_text_size
                uit_interval = $ui_tool_env_param_interval
            ]

            ui_tool_numinput spincloudspitch@@arg1 -720 720 0.5 [
                uit_label = "Spin pitch"
                uit_label_size = $ui_toolview_tiny_text_size
                uit_interval = $ui_tool_env_param_interval
            ]

            ui_tool_numinput spincloudsroll@@arg1 -720 720 0.5 [
                uit_label = "Spin roll"
                uit_label_size = $ui_toolview_tiny_text_size
                uit_interval = $ui_tool_env_param_interval
            ]

            uifill 0 $ui_toolview_small_elem_space

            ui_tool_colour tool_env_cloud_colour@@arg1 [
                uit_label_size = $ui_toolview_tiny_text_size
                uit_on_change = [
                    @@@@(tool_colour_toint [cloudcolour@arg1] [tool_env_cloud_colour@arg1])
                ]
                uit_interval = $ui_tool_env_param_interval
            ]

            uialign* 1
            uialign 1
        ]
    ]
]

ui_tool_env_atmo = [
    result [
        uivlist 0 [
            ui_tool_checkbox atmo@@arg1 [
                uit_label_size = $ui_toolview_tiny_text_size
            ]

            uifill 0 $ui_toolview_small_elem_space

            ui_tool_switch atmo@@arg1 [
                uit_disabled = @(! $atmo@@@arg1)
                uit_label = "Order"
                uit_options = ["Front" "Back"]
                uit_get = [ = $arg1 2 ]
                uit_set = [ at [ 2 1 ] (- $arg1 1) ]
            ]

            uifill 0 $ui_toolview_small_elem_space

            ui_tool_numinput atmoblend@@arg1 0 1 0.1 [
                uit_disabled = @(! $atmo@@@arg1)
                uit_label = "Blend"
                uit_label_size = $ui_toolview_tiny_text_size
                uit_interval = $ui_tool_env_param_interval
            ]

            ui_tool_numinput atmobright@@arg1 0 1 0.1 [
                uit_disabled = @(! $atmo@@@arg1)
                uit_label = "Brightness"
                uit_label_size = $ui_toolview_tiny_text_size
                uit_interval = $ui_tool_env_param_interval
            ]

            uifill 0 $ui_toolview_small_elem_space

            ui_tool_numinput atmodensity@@arg1 0 1 0.1 [
                uit_disabled = @(! $atmo@@@arg1)
                uit_label = "Density"
                uit_label_size = $ui_toolview_tiny_text_size
                uit_interval = $ui_tool_env_param_interval
            ]

            ui_tool_numinput atmohaze@@arg1 0 100 0.1 [
                uit_disabled = @(! $atmo@@@arg1)
                uit_label = "Scattering"
                uit_label_size = $ui_toolview_tiny_text_size
                uit_interval = $ui_tool_env_param_interval
            ]

            ui_tool_numinput atmoheight@@arg1 1e-06 1000000 0.1 [
                uit_disabled = @(! $atmo@@@arg1)
                uit_label = "Thickness"
                uit_label_size = $ui_toolview_tiny_text_size
                uit_interval = $ui_tool_env_param_interval
            ]

            ui_tool_numinput atmoozone@@arg1 0 100 1 [
                uit_disabled = @(! $atmo@@@arg1)
                uit_label = "Ozone"
                uit_label_size = $ui_toolview_tiny_text_size
                uit_interval = $ui_tool_env_param_interval
            ]

            uifill 0 $ui_toolview_small_elem_space

            ui_tool_numinput atmoplanetsize@@arg1 0.01 1000000 1 [
                uit_disabled = @(! $atmo@@@arg1)
                uit_label = "Planet size"
                uit_label_size = $ui_toolview_tiny_text_size
                uit_interval = $ui_tool_env_param_interval
            ]

            uifill 0 $ui_toolview_small_elem_space

            ui_tool_numinput atmolightscale@@arg1 0 16 1 [
                uit_disabled = @(! $atmo@@@arg1)
                uit_label = "Tint scale"
                uit_label_size = $ui_toolview_tiny_text_size
                uit_interval = $ui_tool_env_param_interval
            ]

            uifill 0 $ui_toolview_small_elem_space

            ui_tool_colour tool_env_atmolight_colour@@arg1 [
                uit_disabled = @(! $atmo@@@arg1)
                uit_label_size = $ui_toolview_tiny_text_size
                uit_on_change = [
                    @@@@(tool_colour_toint [atmolight@arg1] [tool_env_atmolight_colour@arg1] 1)
                ]
                uit_interval = $ui_tool_env_param_interval
            ]

            uialign* 1
            uialign 1
        ]
    ]
]

ui_tool_env_atmo_disk = [
    result [
        uivlist 0 [
            ui_tool_numinput atmodisksize@@arg1 0 90 1 [
                uit_disabled = @(! $atmo@@@arg1)
                uit_label = "Size"
                uit_label_size = $ui_toolview_tiny_text_size
                uit_interval = $ui_tool_env_param_interval
            ]

            ui_tool_numinput atmodiskbright@@arg1 0 16 1 [
                uit_disabled = @(! $atmo@@@arg1)
                uit_label = "Brightness"
                uit_label_size = $ui_toolview_tiny_text_size
                uit_interval = $ui_tool_env_param_interval
            ]

            ui_tool_numinput atmodiskcorona@@arg1 0 1 0.1 [
                uit_disabled = @(! $atmo@@@arg1)
                uit_label = "Corona"
                uit_label_size = $ui_toolview_tiny_text_size
                uit_interval = $ui_tool_env_param_interval
            ]

            uifill 0 $ui_toolview_small_elem_space

            ui_tool_colour tool_env_atmodisk_colour@@arg1 [
                uit_disabled = @(! $atmo@@@arg1)
                uit_label_size = $ui_toolview_tiny_text_size
                uit_on_change = [
                    @@@@(tool_colour_toint [atmodisk@arg1] [tool_env_atmodisk_colour@arg1] 1)
                ]
                uit_interval = $ui_tool_env_param_interval
            ]

            uialign* 1
            uialign 1
        ]
    ]
]

ui_tool_env_fog = [
    result [
        uivlist 0 [
            ui_tool_numinput fog@@arg1 16 10000024 100 [
                uit_label = "Distance"
                uit_label_size = $ui_toolview_tiny_text_size
                uit_val_format = i
                uit_interval = $ui_tool_env_param_interval
            ]

            uifill 0 $ui_toolview_small_elem_space

            ui_tool_colour tool_env_fog_colour@@arg1 [
                uit_label_size = $ui_toolview_tiny_text_size
                uit_on_change = [
                    @@@@(tool_colour_toint [fogcolour@arg1] [tool_env_fog_colour@arg1] 0 1)
                ]
                uit_interval = $ui_tool_env_param_interval
            ]

            uialign* 1
            uialign 1
        ]
    ]
]

ui_tool_env_fogdome = [
    result [
        uivlist 0 [
            uihlist $ui_toolview_small_elem_space [
                ui_tool_checkbox fogdomecap@@@arg1 [
                    uit_label_size = $ui_toolview_tiny_text_size
                    uit_label = "Cap"
                ]

                ui_tool_checkbox fogdomeclouds@@@arg1 [
                    uit_label_size = $ui_toolview_tiny_text_size
                    uit_label = "Block clouds"
                ]
            ]

            uifill 0 $ui_toolview_small_elem_space

            ui_tool_numinput fogdomeheight@@arg1 -1 1 0.1 [
                uit_label = "Height"
                uit_label_size = $ui_toolview_tiny_text_size
                uit_interval = $ui_tool_env_param_interval
            ]

            uifill 0 $ui_toolview_small_elem_space

            ui_tool_numinput fogdomemin@@arg1 0 1 0.1 [
                uit_label = "Min opacity"
                uit_label_size = $ui_toolview_tiny_text_size
                uit_interval = $ui_tool_env_param_interval
            ]

            ui_tool_numinput fogdomemax@@arg1 0 1 0.1 [
                uit_label = "Max opacity"
                uit_label_size = $ui_toolview_tiny_text_size
                uit_interval = $ui_tool_env_param_interval
            ]

            ui_tool_numinput fogdomeclip@@arg1 0 1 0.1 [
                uit_label = "Cut-off"
                uit_label_size = $ui_toolview_tiny_text_size
                uit_interval = $ui_tool_env_param_interval
            ]

            uifill 0 $ui_toolview_small_elem_space

            ui_tool_colour tool_env_fogdome_colour@@arg1 [
                uit_label_size = $ui_toolview_tiny_text_size
                uit_on_change = [
                    @@@@(tool_colour_toint [fogdomecolour@arg1] [tool_env_fogdome_colour@arg1])
                ]
                uit_interval = $ui_tool_env_param_interval
            ]

            uialign* 1
            uialign 1
        ]
    ]
]

ui_tool_env_sunlight = [
    result [
        uivlist 0 [
            ui_tool_numinput sunlightyaw@@arg1 0 360 1 [
                uit_label = "Yaw"
                uit_label_size = $ui_toolview_tiny_text_size
                uit_interval = $ui_tool_env_param_interval
            ]

            ui_tool_numinput sunlightpitch@@arg1 0 360 1 [
                uit_label = "Pitch"
                uit_label_size = $ui_toolview_tiny_text_size
                uit_interval = $ui_tool_env_param_interval
            ]

            ui_tool_button [
                uit_label = "From camera"
                uit_label_size = $ui_toolview_tiny_text_size
                uit_icon = "textures/icons/camera"
                uit_icon_size = 0.015
                uit_width = 0.12
                uit_on_click = [
                    sunlightyaw@@@@arg1 (getcamerayaw)
                    sunlightpitch@@@@arg1 (getcamerapitch)
                ]
            ]

            uifill 0 $ui_toolview_small_elem_space

            ui_tool_numinput sunlightscale@@arg1 0 16 0.5 [
                uit_label = "Scale"
                uit_label_size = $ui_toolview_tiny_text_size
                uit_interval = $ui_tool_env_param_interval
            ]

            uifill 0 $ui_toolview_small_elem_space

            ui_tool_colour tool_env_sunlight_colour@@arg1 [
                uit_label_size = $ui_toolview_tiny_text_size
                uit_on_change = [
                    @@@@(tool_colour_toint [sunlight@arg1] [tool_env_sunlight_colour@arg1])
                ]
                uit_interval = $ui_tool_env_param_interval
            ]

            uialign* 1
            uialign 1
        ]
    ]
]

ui_tool_env_ambient = [
    result [
        ui_tool_colour tool_env_ambient_colour@arg1 [
            uit_label_size = $ui_toolview_tiny_text_size
            uit_on_change = [
                @@@(tool_colour_toint [ambient@arg1] [tool_env_ambient_colour@arg1] 1)
            ]
            uit_interval = $ui_tool_env_param_interval
        ]

        uialign- 1
    ]
]

ui_tool_env_hdr = [
    result [
        uivlist 0 [
            ui_tool_numinput hdrbright@@arg1 0.001 1000 0.5 [
                uit_label = "Brightness"
                uit_label_size = $ui_toolview_tiny_text_size
                uit_interval = $ui_tool_env_param_interval
            ]

            uialign* 1
            uialign 1
        ]
    ]
]

ui_tool_env_gi = [
    result [
        uivlist 0 [
            ui_tool_numinput giscale@@arg1 0 1000 0.5 [
                uit_label = "Scale"
                uit_label_size = $ui_toolview_tiny_text_size
                uit_interval = $ui_tool_env_param_interval
            ]

            ui_tool_numinput giaoscale@@arg1 0 1000 1 [
                uit_label = "AO scale"
                uit_label_size = $ui_toolview_tiny_text_size
                uit_interval = $ui_tool_env_param_interval
            ]

            ui_tool_numinput gidist@@arg1 0 1024 64 [
                uit_label = "Distance"
                uit_label_size = $ui_toolview_tiny_text_size
                uit_val_format = i
                uit_interval = $ui_tool_env_param_interval
            ]

            uialign* 1
            uialign 1
        ]
    ]
]

ui_tool_env_ao = [
    result [
        uivlist 0 [
            ui_tool_numinput aodark@@arg1 0.001 1000 0.5 [
                uit_label = "Strength"
                uit_label_size = $ui_toolview_tiny_text_size
                uit_interval = $ui_tool_env_param_interval
            ]

            ui_tool_numinput aomin@@arg1 0 1 0.05 [
                uit_label = "Min."
                uit_label_size = $ui_toolview_tiny_text_size
                uit_interval = $ui_tool_env_param_interval
            ]

            ui_tool_numinput aoradius@@arg1 0 256 1 [
                uit_label = "Radius"
                uit_label_size = $ui_toolview_tiny_text_size
                uit_interval = $ui_tool_env_param_interval
            ]

            ui_tool_numinput aosharp@@arg1 0.001 1000 0.5 [
                uit_label = "Sharpening"
                uit_label_size = $ui_toolview_tiny_text_size
                uit_interval = $ui_tool_env_param_interval
            ]

            uifill 0 $ui_toolview_small_elem_space

            ui_tool_checkbox aosun@@arg1 [
                uit_label_size = $ui_toolview_tiny_text_size
                uit_label = "Sunlight"
                uit_interval = $ui_tool_env_param_interval
            ]

            uifill 0 $ui_toolview_small_elem_space

            ui_tool_numinput aosunmin@@arg1 0 1 0.05 [
                uit_disabled = @(! $aosun@@@arg1)
                uit_label = "Min. in sunlight"
                uit_label_size = $ui_toolview_tiny_text_size
                uit_interval = $ui_tool_env_param_interval
            ]

            uialign* 1
            uialign 1
        ]
    ]
]

// 1:<ui> 2:<label>
ui_tool_env_params = [
    result [
        ui_tool_env_param_group [@@arg2] [
            @@($arg1)
            @@($arg1 alt)
        ]
    ]
]

ui_tool_env_table = [
    result [
        ui_tool_vscrollarea [
            uitable $ui_toolview_large_elem_space $ui_toolview_small_elem_space [
                uiclamp 1 1
                uitableheader [
                    uifill
                    uicolourtext "Normal" (? (<= $forcemapvariant 1) $ui_toolview_sel_accent_colour $ui_toolview_accent_colour)
                    uicolourtext "Alternative" (? (= $forcemapvariant 2) $ui_toolview_sel_accent_colour $ui_toolview_accent_colour)
                ]

                uiline $ui_toolview_dark_accent_colour 0 0 [ uiclamp 1 1 ]

                @@@arg1
            ]
        ] [
            uit_height = 0.6
        ]
    ]
]

ui_tool_env_tab_skybox = [
    @(ui_tool_env_table [
        @(ui_tool_env_params ui_tool_env_skybox "Skybox")
        @(ui_tool_env_params ui_tool_env_skybg "Background")
    ])
]

ui_tool_env_tab_cloudlayer = [
    @(ui_tool_env_table [
        @(ui_tool_env_params ui_tool_env_cloudlayer "Layer #1")
        @(ui_tool_env_params ui_tool_env_envlayer "Layer #2")
    ])
]

ui_tool_env_tab_cloudbox = [
    @(ui_tool_env_table [
        @(ui_tool_env_params ui_tool_env_cloudbox "Cloud box")
    ])
]

ui_tool_env_tab_atmosphere = [
    @(ui_tool_env_table [
        @(ui_tool_env_params ui_tool_env_atmo "Atmosphere")
        @(ui_tool_env_params ui_tool_env_atmo_disk "Disk")
    ])
]

ui_tool_env_tab_fog = [
    @(ui_tool_env_table [
        @(ui_tool_env_params ui_tool_env_fog "Fog")
        @(ui_tool_env_params ui_tool_env_fogdome "Dome")
    ])
]

ui_tool_env_tab_lighting = [
    @(ui_tool_env_table [
        @(ui_tool_env_params ui_tool_env_sunlight "Sunlight")
        @(ui_tool_env_params ui_tool_env_ambient "Ambient")
        @(ui_tool_env_params ui_tool_env_hdr "HDR")
    ])
]

ui_tool_env_tab_gi = [
    @(ui_tool_env_table [
        @(ui_tool_env_params ui_tool_env_gi "Global illumination")
        @(ui_tool_env_params ui_tool_env_ao "Ambient occlusion")
    ])
]

ui_tool_env = [
    tool_env_sync

    ui_tool_vtabs tool_env_tabs [
        "textures/icons/edit/skybox"
        "textures/icons/edit/cloud"
        "textures/icons/edit/cloudbox"
        "textures/icons/edit/atmo"
        "textures/icons/edit/fog"
        "textures/icons/edit/light"
        "textures/icons/edit/gi"
    ] [
        "Skybox"
        "Cloud layers"
        "Cloud box"
        "Atmosphere"
        "Fog"
        "Lighting"
        "Global illumination"
    ] [
        ui_tool_env_tab_skybox
        ui_tool_env_tab_cloudlayer
        ui_tool_env_tab_cloudbox
        ui_tool_env_tab_atmosphere
        ui_tool_env_tab_fog
        ui_tool_env_tab_lighting
        ui_tool_env_tab_gi
    ]
]
