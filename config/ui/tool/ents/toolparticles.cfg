// Type 0
ui_tool_ent_particles_fireplume = [
    ui_tool_ent_param_group "Dimensions" [
        ui_tool_numinput @@(tool_ent_attr particles length 0) 0 10000 1 [
            @@@(ui_tool_ent_attr_props particles length 0)
            uit_val_format = i
            uit_label = "Radius"
        ]

        ui_tool_numinput @@(tool_ent_attr particles height 0) 0 1000 1 [
            @@@(ui_tool_ent_attr_props particles height 0)
            uit_val_format = i
            uit_label = "Height"
        ]

        ui_tool_numinput @@(tool_ent_attr particles size 0) 0 1000 1 [
            @@@(ui_tool_ent_attr_props particles size 0)
            uit_val_format = i
            uit_label = "Part. size"
        ]
    ]

    ui_tool_ent_param_group "Color" [
        ui_tool_colour tool_ent_attr_colour [
            @@@(ui_tool_ent_attr_props particles colour 0)
        ]

        uifill 0 $ui_toolview_base_elem_space

        ui_tool_numinput tool_ent_particles_blend_val 1 100 1 [
            @@@(ui_tool_ent_attr_props particles blend 0)
            uit_label = "Blend ^%"
            uit_val_format = i
        ]
    ]

    ui_tool_ent_param_group "Physics" [
        ui_tool_numinput @@(tool_ent_attr particles fade 0) 0 10000 1 [
            @@@(ui_tool_ent_attr_props particles fade 0)
            uit_val_format = i
            uit_label = "Lifetime (ms)"
        ]

        ui_tool_numinput @@(tool_ent_attr particles gravity 0) -1000 1000 10 [
            @@@(ui_tool_ent_attr_props particles gravity 0)
            uit_val_format = i
            uit_label = "Gravity"
        ]

        ui_tool_numinput @@(tool_ent_attr particles velocity 0) -1000 1000 10 [
            @@@(ui_tool_ent_attr_props particles velocity 0)
            uit_val_format = i
            uit_label = "Speed"
        ]

        ui_tool_numinput @@(tool_ent_attr particles millis 0) 0 10000 10 [
            @@@(ui_tool_ent_attr_props particles millis 0)
            uit_val_format = i
            uit_label = "Interval (ms)"
        ]
    ]

    @(ui_tool_ent_palette_group particles 0)
    @(ui_tool_ent_variant_group particles 1 0)
]

// Type 1
ui_tool_ent_particles_smokevent = [
    ui_tool_ent_param_group "Direction" [
        ui_tool_dropdown @(tool_ent_attr particles dir 1) $tool_particles_simple_dirs [
            @@(ui_tool_ent_attr_props particles dir 1)
        ]
    ]

    ui_tool_ent_param_group "Interval (ms)" [
        ui_tool_numinput @@(tool_ent_attr particles millis 1) 0 10000 10 [
            @@@(ui_tool_ent_attr_props particles millis 1)
            uit_val_format = i
        ]
    ]

    @(ui_tool_ent_variant_group particles 1 1)
]

// Type 2
ui_tool_ent_particles_waterfountain = [
    ui_tool_ent_param_group "Direction" [
        ui_tool_dropdown @(tool_ent_attr particles dir 2) $tool_particles_simple_dirs [
            @@(ui_tool_ent_attr_props particles dir 2)
        ]
    ]

    ui_tool_ent_param_group "Interval (ms)" [
        ui_tool_numinput @@(tool_ent_attr particles millis 2) 0 10000 10 [
            @@@(ui_tool_ent_attr_props particles millis 2)
            uit_val_format = i
        ]
    ]

    @(ui_tool_ent_variant_group particles 1 2)
]

// Type 3
ui_tool_ent_particles_fireball = [
    ui_tool_ent_param_group "Size" [
        ui_tool_numinput @@(tool_ent_attr particles size 3) -4 1000 1 [
            @@@(ui_tool_ent_attr_props particles size 3)
            uit_val_format = i
        ]
    ]

    ui_tool_ent_param_group "Color" [
        ui_tool_colour tool_ent_attr_colour [
            @@@(ui_tool_ent_attr_props particles colour 3)
        ]
    ]

    ui_tool_ent_param_group "Interval (ms)" [
        ui_tool_numinput @@(tool_ent_attr particles millis 3) 0 10000 10 [
            @@@(ui_tool_ent_attr_props particles millis 3)
            uit_val_format = i
        ]
    ]

    @(ui_tool_ent_palette_group particles 3)
    @(ui_tool_ent_variant_group particles 1 3)
]

// 1:<subtype>
ui_tool_ent_particles_tape_shape_template = [
    result [
        ui_tool_ent_param_group "Shape" [
            ui_tool_numinput @@(tool_ent_attr particles length $arg1) 0 1000 1 [
                @@@(ui_tool_ent_attr_props particles length $arg1)
                uit_val_format = i
                uit_label = "Size"
            ]

            ui_tool_numinput @@(tool_ent_attr particles size $arg1) 0 1000 1 [
                @@@(ui_tool_ent_attr_props particles size $arg1)
                uit_val_format = i
                uit_label = "Part. size"
            ]

            ui_tool_dropdown tool_ent_particles_shape $tool_particles_shapes [
                @@@(ui_tool_ent_attr_props particles dir $arg1)
                uit_label = "Type"
            ]

            local dir_list
            dir_list = (? (listhas [0 3] $tool_ent_particles_shape) $tool_particles_dirs $tool_particles_simple_dirs)

            ui_tool_dropdown tool_ent_particles_dir $dir_list [
                @@@(ui_tool_ent_attr_props particles dir $arg1)
                uit_label = "Direction"
                uit_disabled = (= $tool_ent_particles_shape 7)
            ]

            uifill 0 $ui_toolview_base_elem_space

            uihlist $ui_toolview_base_elem_space [
                ui_tool_checkbox tool_ent_particles_dir_invert [
                    @@@@(ui_tool_ent_attr_props particles dir $arg1)
                    uit_label = "Invert"
                ]

                ui_tool_checkbox tool_ent_particles_dir_taper [
                    @@@@(ui_tool_ent_attr_props particles dir $arg1)
                    uit_label = "Taper"
                ]
            ]
            uialign- 1
        ]

        ui_tool_ent_param_group "Color" [
            ui_tool_colour tool_ent_attr_colour [
                @@@(ui_tool_ent_attr_props particles colour $arg1)
            ]
        ]

        ui_tool_ent_param_group "Physics" [
            ui_tool_numinput @@(tool_ent_attr particles fade $arg1) 0 10000 1 [
                @@@(ui_tool_ent_attr_props particles fade $arg1)
                uit_val_format = i
                uit_label = "Lifetime (ms)"
            ]

            ui_tool_numinput @@(tool_ent_attr particles millis $arg1) 0 10000 10 [
                @@@(ui_tool_ent_attr_props particles millis $arg1)
                uit_val_format = i
                uit_label = "Interval (ms)"
            ]
        ]

        @(ui_tool_ent_palette_group particles $arg1)
        @(ui_tool_ent_variant_group particles 1 $arg1)
    ]
]

// Type 4
ui_tool_ent_particles_tape = [
    @(ui_tool_ent_particles_tape_shape_template 4)
]

// Type 5
ui_tool_ent_particles_progress = [
    ui_tool_ent_param_group "Percentage" [
        ui_tool_numinput @@(tool_ent_attr particles amt 5) 0 100 1 [
            @@@(ui_tool_ent_attr_props particles amt 5)
            uit_val_format = i
        ]
    ]

    ui_tool_ent_param_group "Color" [
        ui_tool_colour tool_ent_attr_colour [
            @@@(ui_tool_ent_attr_props particles colour 5)
        ]
    ]

    ui_tool_ent_param_group "Interval (ms)" [
        ui_tool_numinput @@(tool_ent_attr particles millis 5) 0 10000 10 [
            @@@(ui_tool_ent_attr_props particles millis 5)
            uit_val_format = i
        ]
    ]

    // palettes appears broken for this particle type
    //@(ui_tool_ent_palette_group particles 5)
    @(ui_tool_ent_variant_group particles 1 5)
]

// Type 6
ui_tool_ent_particles_progress_vs = [
    ui_tool_ent_param_group "Percentage" [
        ui_tool_numinput @@(tool_ent_attr particles amt 6) 0 100 1 [
            @@@(ui_tool_ent_attr_props particles amt 6)
            uit_val_format = i
        ]
    ]

    ui_tool_ent_param_group "Color" [
        ui_tool_colour tool_ent_attr_colour [
            @@@(ui_tool_ent_attr_props particles colour 6)
        ]
    ]

    ui_tool_ent_param_group "Color 2" [
        ui_tool_colour tool_ent_particles_colour2 [
            @@@(ui_tool_ent_attr_props particles colour2 6)
        ]
    ]

    ui_tool_ent_param_group "Interval (ms)" [
        ui_tool_numinput @@(tool_ent_attr particles millis 6) 0 10000 10 [
            @@@(ui_tool_ent_attr_props particles millis 6)
            uit_val_format = i
        ]
    ]

    @(ui_tool_ent_palette_group particles 6)
    @(ui_tool_ent_palette_group particles 6 2)
    @(ui_tool_ent_variant_group particles 1 6)
]

// Type 7
ui_tool_ent_particles_lightning = [
    @(ui_tool_ent_particles_tape_shape_template 7)
]

// 1:<subtype>
ui_tool_ent_particles_part_shape_template = [
    result [
        ui_tool_ent_param_group "Shape" [
            ui_tool_numinput @@(tool_ent_attr particles length $arg1) 0 1000 1 [
                @@@(ui_tool_ent_attr_props particles length $arg1)
                uit_val_format = i
                uit_label = "Size"
            ]

            ui_tool_numinput @@(tool_ent_attr particles size $arg1) 0 1000 1 [
                @@@(ui_tool_ent_attr_props particles size $arg1)
                uit_val_format = i
                uit_label = "Part. size"
            ]

            ui_tool_dropdown tool_ent_particles_shape $tool_particles_shapes [
                @@@(ui_tool_ent_attr_props particles dir $arg1)
                uit_label = "Type"
            ]

            local dir_list
            dir_list = (? (listhas [0 3] $tool_ent_particles_shape) $tool_particles_dirs $tool_particles_simple_dirs)

            ui_tool_dropdown tool_ent_particles_dir $dir_list [
                @@@(ui_tool_ent_attr_props particles dir $arg1)
                uit_label = "Direction"
                uit_disabled = (= $tool_ent_particles_shape 7)
            ]

            uifill 0 $ui_toolview_base_elem_space

            uihlist $ui_toolview_base_elem_space [
                ui_tool_checkbox tool_ent_particles_dir_invert [
                    @@@@(ui_tool_ent_attr_props particles dir $arg1)
                    uit_label = "Invert"
                ]

                ui_tool_checkbox tool_ent_particles_dir_taper [
                    @@@@(ui_tool_ent_attr_props particles dir $arg1)
                    uit_label = "Taper"
                ]
            ]
            uialign- 1
        ]

        ui_tool_ent_param_group "Physics" [
            ui_tool_numinput @@(tool_ent_attr particles fade $arg1) 0 10000 1 [
                @@@(ui_tool_ent_attr_props particles fade $arg1)
                uit_val_format = i
                uit_label = "Lifetime (ms)"
            ]

            ui_tool_numinput @@(tool_ent_attr particles gravity $arg1) -1000 1000 10 [
                @@@(ui_tool_ent_attr_props particles gravity $arg1)
                uit_val_format = i
                uit_label = "Gravity"
            ]

            ui_tool_numinput @@(tool_ent_attr particles velocity $arg1) -1000 1000 10 [
                @@@(ui_tool_ent_attr_props particles velocity $arg1)
                uit_val_format = i
                uit_label = "Speed"
            ]

            ui_tool_numinput @@(tool_ent_attr particles millis $arg1) 0 10000 10 [
                @@@(ui_tool_ent_attr_props particles millis $arg1)
                uit_val_format = i
                uit_label = "Interval (ms)"
            ]

            ui_tool_dropdown @@(tool_ent_attr particles decal $arg1) $tool_particles_stains [
                @@@(ui_tool_ent_attr_props particles decal $arg1)
                uit_label = "Stain"
            ]
        ]

        ui_tool_ent_param_group "Color" [
            ui_tool_colour tool_ent_attr_colour [
                @@@(ui_tool_ent_attr_props particles colour $arg1)
            ]
        ]

        @(ui_tool_ent_palette_group particles $arg1)
        @(ui_tool_ent_variant_group particles 1 $arg1)
    ]
]

// Type 8
ui_tool_ent_particles_fire = [
    @(ui_tool_ent_particles_part_shape_template 8)
]

// Type 9
ui_tool_ent_particles_smoke = [
    @(ui_tool_ent_particles_part_shape_template 9)
]

// Type 10
ui_tool_ent_particles_water = [
    @(ui_tool_ent_particles_part_shape_template 10)
]

// Type 11
ui_tool_ent_particles_plasma = [
    @(ui_tool_ent_particles_part_shape_template 11)
]

// Type 12
ui_tool_ent_particles_snow = [
    @(ui_tool_ent_particles_part_shape_template 12)
]

// Type 13
ui_tool_ent_particles_sparks = [
    @(ui_tool_ent_particles_part_shape_template 13)
]

// 1:<subtype>
ui_tool_ent_particles_plume_template = [
    result [
        ui_tool_ent_param_group "Dimensions" [
            ui_tool_numinput @@(tool_ent_attr particles radius $arg1) 0 10000 10 [
                @@@(ui_tool_ent_attr_props particles radius $arg1)
                uit_val_format = i
                uit_label = "Radius"
            ]

            ui_tool_numinput @@(tool_ent_attr particles height $arg1) 0 1000 10 [
                @@@(ui_tool_ent_attr_props particles height $arg1)
                uit_val_format = i
                uit_label = "Height"
            ]

            ui_tool_numinput @@(tool_ent_attr particles size $arg1) 0 10000 10 [
                @@@(ui_tool_ent_attr_props particles size $arg1)
                uit_val_format = i
                uit_label = "Part. size"
            ]
        ]

        ui_tool_ent_param_group "Color" [
            ui_tool_colour tool_ent_attr_colour [
                @@@(ui_tool_ent_attr_props particles colour $arg1)
            ]
        ]

        ui_tool_ent_param_group "Physics" [
            ui_tool_numinput @@(tool_ent_attr particles fade $arg1) 0 10000 1 [
                @@@(ui_tool_ent_attr_props particles fade $arg1)
                uit_val_format = i
                uit_label = "Lifetime (ms)"
            ]

            ui_tool_numinput @@(tool_ent_attr particles gravity $arg1) -1000 1000 10 [
                @@@(ui_tool_ent_attr_props particles gravity $arg1)
                uit_val_format = i
                uit_label = "Gravity"
            ]

            ui_tool_numinput @@(tool_ent_attr particles velocity $arg1) -1000 1000 10 [
                @@@(ui_tool_ent_attr_props particles velocity $arg1)
                uit_val_format = i
                uit_label = "Speed"
            ]

            ui_tool_numinput @@(tool_ent_attr particles millis $arg1) 0 10000 10 [
                @@@(ui_tool_ent_attr_props particles millis $arg1)
                uit_val_format = i
                uit_label = "Interval (ms)"
            ]
        ]

        // palettes appears broken for this particle type
        //@(ui_tool_ent_palette_group particles $arg1)
        @(ui_tool_ent_variant_group particles 1 $arg1)
    ]
]

// Type 14
ui_tool_ent_particles_flames = [
    @(ui_tool_ent_particles_plume_template 14)
]

// Type 15
ui_tool_ent_particles_smokeplume = [
    @(ui_tool_ent_particles_plume_template 15)
]

ui_tool_ent_particles = [
    uitext Particles

    ui_tool_ent_param_group "Type" [
        ui_tool_dropdown @(tool_ent_attr particles type) $tool_particles_types [
            @@(ui_tool_ent_attr_props particles type)
            uit_label = "Type"
        ]
    ]

    local part_uis
    part_uis = [
        ui_tool_ent_particles_fireplume
        ui_tool_ent_particles_smokevent
        ui_tool_ent_particles_waterfountain
        ui_tool_ent_particles_fireball
        ui_tool_ent_particles_tape
        ui_tool_ent_particles_progress
        ui_tool_ent_particles_progress_vs
        ui_tool_ent_particles_lightning
        ui_tool_ent_particles_fire
        ui_tool_ent_particles_smoke
        ui_tool_ent_particles_water
        ui_tool_ent_particles_plasma
        ui_tool_ent_particles_snow
        ui_tool_ent_particles_sparks
        ui_tool_ent_particles_flames
        ui_tool_ent_particles_smokeplume
    ]

    do (at $part_uis $tool_ent_subtype)
]
